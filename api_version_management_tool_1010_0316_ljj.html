// 代码生成时间: 2025-10-10 03:16:27
        "use strict";

        // Define the APIVersionManager component
        svelte.create('ApiVersionManager', {
            // Component props
# 优化算法效率
            props: {
                apiBaseUrl: String,
                defaultVersion: String
# 优化算法效率
            },

            // Component lifecycle
# NOTE: 重要实现细节
            oncreate() {
                this.loadVersions();
            },

            // Component methods
            methods: {
                loadVersions() {
# 添加错误处理
                    // Fetch API versions from the base URL
                    fetch(`${this.apiBaseUrl}/api/versions`)
                        .then(response => {
                            if (!response.ok) {
# FIXME: 处理边界情况
                                throw new Error('Failed to fetch API versions');
# 增强安全性
                            }
# TODO: 优化性能
                            return response.json();
                        })
                        .then(data => {
                            this.set({ versions: data.versions });
                        })
                        .catch(error => {
                            console.error(error);
                            alert('Error fetching API versions');
                        });
                },

                updateVersion(version) {
                    const requestOptions = {
                        method: 'POST',
# TODO: 优化性能
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ version })
                    };

                    fetch(`${this.apiBaseUrl}/api/version`, requestOptions)
                        .then(response => {
                            if (!response.ok) {
                                throw new Error('Failed to update API version');
                            }
                            return response.json();
                        })
                        .then(() => {
                            this.set({ currentVersion: version });
                            alert('API version updated successfully');
                        })
                        .catch(error => {
# NOTE: 重要实现细节
                            console.error(error);
                            alert('Error updating API version');
                        });
                }
            },

            // Component computed properties
# 优化算法效率
            computed: {
# 改进用户体验
                currentVersion: ({ currentVersion }) => currentVersion
            },

            // Component template
            template: `
                <div class="api-version-manager">
                    <h1>API Version Management Tool</h1>
                    <div>
                        <button on:click="loadVersions" disabled={this.versionsLoading}
                            class="load-versions-button">Load API Versions</button>
                        <p>Current API Version: {this.currentVersion}</p>
                    </div>
                    <div class="version-list">
                        <h2>Select API Version:</h2>
                        <ul>
                            {#each this.versions as version}
                                <li>
                                    <button on:click="() => updateVersion(version)"
                                        class="version-button">{version}</button>
                                </li>
                            {/each}
# FIXME: 处理边界情况
                        </ul>
                    </div>
                </div>
            `
        });
    </script>
</body>
</html>